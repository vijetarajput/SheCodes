<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <link href="/src/Plus/styles.css" type="text/css" rel="stylesheet" />
    <title>Document</title>
</head>

<body>
    <div style="margin-top: 20px;">
        <input id="inputCityName" class="search" type="text" placeholder="Enter the city name" />
        <button id="searchBtn" class="Sbtn">search</button><button id="currentBtn" class="Sbtn">Current</button>
    </div>
    <div class="main_container">
        <div class="main">
            <div class="heading">
                <h2 id="cityNameH">London, Uk</h2>
                <h5 id="date">Monday 16:00</h5>
                <h5 id="desc">Cloudy</h5>
            </div>
            <div class="temp">
                <div class="cloud">☁️</div>
                <h1 id="tmp" style="display: inline;">10 </h1>
                <div id="c" class="degree"><a href="#" style="text-decoration: none; color:black;">°C|</a></div>
                <div id="f" class="degree"><a href="#" style="text-decoration: none; color:black;">°F</a></div>
            </div>
            <div class="wind">
                <h6 style="display: inline;">Precipitation:</h6>
                <h6 id="Preci" style="display: inline;">5</h6>
                <h6 style="display: inline;">%</h6><br />
                <h6 style="display: inline">Humidity:</h6>
                <h6 id="Humi" style="display: inline;">10</h6>
                <h6 style="display: inline;">%</h6>
                <h6 id="Wind">Wind: 13km/h</h6>
            </div>
            <div class="container text-center">
                <div class="row" style="margin-left:270px;">
                    <div class="col-auto col">
                        Temperature
                    </div>
                    <div class="col-auto col">
                        Precipitation
                    </div>
                    <div class="col-auto col">
                        Wind
                    </div>
                </div>
            </div>
            <div class="image"><img src="/src/media/Image.png" width="599" height="100" style="margin-top: 10px;"></div>
            <div class=" days">
                <table class="mytable">
                    <tr>
                        <td>
                            <p class="myrow" style="margin-left: 6px; margin-right: 40px;">Mon</p>
                        </td>
                        <td>
                            <p class="myrow" style="margin-right: 46px;">Tue</p>
                        </td>
                        <td>
                            <p class="myrow" style="margin-right: 40px;">Wed</p>
                        </td>
                        <td>
                            <p class="myrow" style="margin-right: 48px;">Thu</p>
                        </td>
                        <td>
                            <p class="myrow" style="margin-right: 54px;">Fri</p>
                        </td>
                        <td>
                            <p class="myrow" style="margin-right: 52px;">Sat</p>
                        </td>
                        <td>
                            <p class="myrow" style="margin-right: 45px;">Sun</p>
                        </td>
                        <td>
                            <p class="myrow">Mon</p>
                        </td>
                    </tr>
                </table>
            </div>
            <div class=" mycard">
                <p style="margin: 0;">Wed</p>
                <p style="margin: 0;">☁️</p>
                <p style="margin: 0;">13° 10°</p>
            </div>
            <div class="mycard">
                <p style="margin: 0;">Wed</p>
                <p style="margin: 0;">☁️</p>
                <p style="margin: 0;">13° 10°</p>
            </div>
            <div class="mycard">
                <p style="margin: 0;">Wed</p>
                <p style="margin: 0;">☁️</p>
                <p style="margin: 0;">13° 10°</p>
            </div>
            <div class="mycard">
                <p style="margin: 0;">Wed</p>
                <p style="margin: 0;">☁️</p>
                <p style="margin: 0;">13° 10°</p>
            </div>
            <div class="mycard">
                <p style="margin: 0;">Wed</p>
                <p style="margin: 0;">☁️</p>
                <p style="margin: 0;">13° 10°</p>
            </div>
            <div class="mycard">
                <p style="margin: 0;">Wed</p>
                <p style="margin: 0;">☁️</p>
                <p style="margin: 0;">13° 10°</p>
            </div>
            <div class="mycard">
                <p style="margin: 0;">Wed</p>
                <p style="margin: 0;">☁️</p>
                <p style="margin: 0;">13° 10°</p>
            </div>
            <div class="mycard">
                <p style="margin: 0;">Wed</p>
                <p style="margin: 0;">☁️</p>
                <p style="margin: 0;">13° 10°</p>
            </div>
        </div>
    </div>
</body>
<script>

    let apikey = "08f21c358ceb7bbd0f79880f5ba5bbf3";

    function display(response) {
        console.log(response.data.name);
        let currentTemp = document.querySelector("#tmp");
        let P = document.querySelector("#Preci");
        let H = document.querySelector("#Humi");
        let cName = document.querySelector("#cityNameH");
        let description = document.querySelector("#desc");

        currentTemp.innerHTML = response.data.main.temp;
        P.innerHTML = Math.round(response.data.main.pressure);
        H.innerHTML = Math.round(response.data.main.humidity);
        cName.innerHTML = response.data.name;
        description.innerHTML = response.data.weather[0].description;

    }
    function displayTemp() {
        let city = document.querySelector("#inputCityName");
        let apiurl = `https://api.openweathermap.org/data/2.5/weather?q=${city.value}&appid=${apikey}&units=metric`;
        axios.get(apiurl).then(display);
    }
    let tempSearchBtn = document.querySelector("#searchBtn");
    tempSearchBtn.addEventListener("click", displayTemp);

    //------------------------------current temp------------------------------/eee/
    function getTemp(response) {
        console.log(response.data.main.temp);
        let currentTemp = document.querySelector("#tmp");
        let P = document.querySelector("#Preci");
        let H = document.querySelector("#Humi");
        let cName = document.querySelector("#cityNameH");
        let description = document.querySelector("#desc");

        currentTemp.innerHTML = response.data.main.temp;
        P.innerHTML = Math.round(response.data.main.pressure);
        H.innerHTML = Math.round(response.data.main.humidity);
        cName.innerHTML = response.data.name;
        description.innerHTML = response.data.weather[0].description;
    }

    function getPosition(position) {
        let lat = position.coords.latitude;
        let lon = position.coords.longitude;
        let apiurl = `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${apikey}&units=metric`;
        axios.get(apiurl).then(getTemp);
    }

    function getcurrentLocation(event) {
        console.log("Hi");
        event.preventDefault();
        navigator.geolocation.getCurrentPosition(getPosition);
    }

    let cBtn = document.querySelector("#currentBtn");
    cBtn.addEventListener("click", getcurrentLocation);

</script>

</html>